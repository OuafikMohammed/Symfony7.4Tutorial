{% extends 'base.html.twig' %}

{% block title %}Posts - Posts Management{% endblock %}

{% block body %}
    <h1>üìù Posts Management</h1>
    
    <div style="margin-bottom: 30px; padding: 20px; background-color: #e7f3ff; border-radius: 4px; border-left: 4px solid #0066cc;">
        <h2 style="margin-top: 0; color: #0066cc;">Quick Create Post</h2>
        <form method="post" action="{{ path('post_create') }}">
            <div class="form-group">
                <label for="title">Post Title</label>
                <input type="text" id="title" name="title" placeholder="Enter post title" required autofocus>
            </div>

            <div class="form-group">
                <label for="content">Post Content</label>
                <textarea id="content" name="content" placeholder="Enter post content" required style="min-height: 100px;"></textarea>
            </div>

            <button type="submit" style="background-color: #28a745;">‚úì Create Post</button>
            <a href="{{ path('post_create') }}" class="button" style="background-color: #6c757d;">Open Full Form</a>
        </form>
    </div>

    <h2>All Posts</h2>
    
    {% if posts|length > 0 %}
        <ul>
            {% for post in posts %}
                <li>
                    <div>
                        <strong><a href="{{ path('post_show', {id: post.id}) }}">{{ post.title }}</a></strong>
                        <p style="color: #666; font-size: 12px; margin-top: 5px;">{{ post.content|length }} characters</p>
                    </div>
                    <div class="actions">
                        <a href="{{ path('post_show', {id: post.id}) }}" class="button" style="background-color: #17a2b8;">View</a>
                        <a href="{{ path('post_edit', {id: post.id}) }}" class="button">Edit</a>
                        <form method="post" action="{{ path('post_delete', {id: post.id}) }}" style="margin: 0;" onsubmit="return confirm('Are you sure you want to delete &quot;{{ post.title }}&quot;?')">
                            <button type="submit" class="danger">Delete</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p style="text-align: center; color: #999; padding: 40px;">No posts yet. Create one using the form above! üëÜ</p>
    {% endif %}
{% endblock %}
